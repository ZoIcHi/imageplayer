if(typeof(jQuery)=="undefined"){alert("jQuery library was not found.")}(function(a){a.fn.extend({imagePlayer:function(b){if(b&&typeof(b)=="object"){b=a.extend({},a.imagePlayer.settings,b)}else{b=a.imagePlayer.settings}return this.each(function(){try{new a.imagePlayer(this,b)}catch(c){console.error(c)}})}});a.imagePlayer=function(l,v){var K=v;var t=a(l);var e=[];var u=null;var I,o,x,w,z,m,d,r,D,n,b,k,f=null;var j=0;var M=false;var L=K.pauseOnHover;var J;var H=0;var F=null;t.find("img").each(function(){e.push(this.src)});if(e.length==0){throw"No images found!"}y();if(K.autoStart===true){N()}else{q(e[0])}function y(){I=a("<div>").addClass("img_player");o=a("<div>").addClass("stage");x=a("<div>").addClass("controls");w=a("<a>").attr("href","#").addClass("start");z=a("<a>").attr("href","#").addClass("prev");m=a("<a>").attr("href","#");d=a("<a>").attr("href","#").addClass("next");r=a("<a>").attr("href","#").addClass("end");D=a("<div>").addClass("scrubber");n=a("<a>").attr("href","#");b=a("<a>").attr("href","#").addClass("fullscreen");k=a("<span>").addClass("frame_count");I.css({width:K.stageWidth+"px",height:K.stageHeight+40+"px"});o.css({width:K.stageWidth+"px",height:K.stageHeight+"px"});x.css({width:K.stageWidth+"px"});D.css({width:Math.floor((K.stageWidth-297)/e.length)*(e.length+1)+"px"});(K.autoStart===true)?m.addClass("pause"):m.addClass("play");o.bind("mouseenter",function(i){c(i,this)}).bind("mouseleave",function(i){s(i,this)});m.bind("click",function(i){E(i,this)});z.bind("click",function(i){B(i,this)});d.bind("click",function(i){p(i,this)});w.bind("click",function(i){g(i,this)});r.bind("click",function(i){h(i,this)});b.bind("click",function(i){C(i,this)});D.bind("click",function(i){G(i,this)});I.append(o).append(x.append(w).append(z).append(m).append(d).append(r).append(D.append(n)).append(b).append(k));t.hide().after(I);J=Math.floor(D.width()/e.length)}function q(O){var i=(M===true)?a(window).innerWidth():K.stageWidth;var Q=(M===true)?a(window).innerHeight()-40:K.stageHeight;var P={src:O,alt:"Slide "+H+1,width:i,height:Q};if(f===null){f=a("<img>").attr(P);o.html(f)}else{f.attr(P)}k.html(H+1+"/"+e.length)}function N(){clearTimeout(F);if(K.loop===true){if(H>e.length-1){H=0;n.stop(true,true);n.css("left","0")}}if(H<e.length){A(e[H])}H++}function A(i){q(i);j=parseFloat(n.css("left"));var O=J*(H+1)-j;n.stop(true,true);n.animate({left:"+="+O+"px"},K.delay*1000,"linear");F=setTimeout(N,K.delay*1000)}function c(O,i){if(L===true&&m.attr("class")==="pause"){clearTimeout(F);n.stop(true,true)}}function s(O,i){if(L===true&&m.attr("class")==="pause"){N()}}function E(O,i){O.preventDefault();i=a(i,I);if(i.attr("class")=="pause"){i.attr("class","play");clearTimeout(F);n.stop(true,false);n.css("left",j+"px");H--}else{N();i.attr("class","pause")}}function B(O,i){O.preventDefault();i=a(i,I);clearTimeout(F);n.stop(true,false);H=(H-1<0)?0:H-1;n.css("left",J*H+"px");if(m.attr("class")==="pause"){N()}else{q(e[H])}}function p(O,i){O.preventDefault();i=a(i,I);clearTimeout(F);n.stop(true,false);H=(H+1>e.length-1)?e.length-1:H+1;n.css("left",J*H+"px");if(m.attr("class")==="pause"){N()}else{q(e[H])}}function g(O,i){O.preventDefault();i=a(i,I);clearTimeout(F);n.stop(true,false);H=0;n.css("left","0px");if(m.attr("class")==="pause"){N()}else{q(e[H])}}function h(O,i){O.preventDefault();i=a(i,I);clearTimeout(F);n.stop(true,false);H=e.length-1;n.css("left",H*J+"px");if(m.attr("class")==="pause"){N()}else{q(e[H])}}function C(O,i){O.preventDefault();if(!I.hasClass("full")){M=true;L=false;I.addClass("full");I.css("width",a(window).innerWidth()+"px");I.css("height",(a(window).innerHeight())+"px");o.css("width",a(window).innerWidth()+"px");o.css("height",(a(window).innerHeight()-40)+"px");f.attr("width",a(window).innerWidth());f.attr("height",a(window).innerHeight()-40);a(I).siblings().filter(":visible").addClass("invisibleimageplayer")}else{M=false;L=K.pauseOnHover;I.removeClass("full");I.css({width:K.stageWidth+"px",height:K.stageHeight+40+"px"});o.css({width:K.stageWidth+"px",height:K.stageHeight+"px"});f.attr("width",K.stageWidth);f.attr("height",K.stageHeight);a(I).siblings().removeClass("invisibleimageplayer");a("body").scrollTop(I.offset().top)}}function G(Q,O){var S,i,P,R;Q.preventDefault();O=a(O,I);clearTimeout(F);n.stop(true,false);S=O.offset();i=Math.ceil(Q.pageX-S.left);H=Math.floor(i/J);P=Math.abs(J*H-i);R=Math.abs(J*(H+1)-i);if(H<e.length){if(P<=R){n.css("left",(i-P)+"px")}else{n.css("left",(i+R)+"px");if(H<e.length-1){H++}}if(m.attr("class")==="pause"){N()}else{q(e[H])}}}};a.imagePlayer.settings={stageWidth:400,stageHeight:300,autoStart:false,pauseOnHover:true,delay:1,loop:true}})(jQuery);