if(typeof(jQuery)=="undefined"){alert("jQuery library was not found.")}(function(a){a.fn.extend({imagePlayer:function(b){if(b&&typeof(b)=="object"){b=a.extend({},a.imagePlayer.settings,b)}else{b=a.imagePlayer.settings}return this.each(function(){try{new a.imagePlayer(this,b)}catch(c){console.error(c)}})}});a.imagePlayer=function(l,w){var N=w;var t=a(l);var e=[];var J=[];var v=0;var u=null;var L,o,y,x,A,m,d,r,F,n,b,k,f=null;var j=0;var P=false;var O=N.pauseOnHover;var M;var K=0;var H=null;t.find("img").each(function(){e.push(this.src);J.push(this)});if(e.length==0){throw"No images found!"}z();a.each(J,function(i,R){a(R).load(function(){v++;if(v>=e.length){if(N.autoStart===true){Q()}else{q(e[0])}D()}})});function z(){L=a("<div>").addClass("img_player");o=a("<div>").addClass("stage");y=a("<div>").addClass("controls");x=a("<a>").attr("href","#").addClass("start");A=a("<a>").attr("href","#").addClass("prev");m=a("<a>").attr("href","#");d=a("<a>").attr("href","#").addClass("next");r=a("<a>").attr("href","#").addClass("end");F=a("<div>").addClass("scrubber");n=a("<a>").attr("href","#");b=a("<a>").attr("href","#").addClass("fullscreen");k=a("<span>").addClass("frame_count");L.css({width:N.stageWidth+"px",height:N.stageHeight+40+"px"});o.css({width:N.stageWidth+"px",height:N.stageHeight+"px"});y.css({width:N.stageWidth+"px"});F.css({width:Math.floor((N.stageWidth-297)/e.length)*(e.length+1)+"px"});(N.autoStart===true)?m.addClass("pause"):m.addClass("play");L.append(o).append(y.append(x).append(A).append(m).append(d).append(r).append(F.append(n)).append(b).append(k));t.hide().after(L);M=Math.floor(F.width()/e.length)}function D(){o.bind("mouseenter",function(i){c(i,this)}).bind("mouseleave",function(i){s(i,this)});m.bind("click",function(i){G(i,this)});A.bind("click",function(i){C(i,this)});d.bind("click",function(i){p(i,this)});x.bind("click",function(i){g(i,this)});r.bind("click",function(i){h(i,this)});b.bind("click",function(i){E(i,this)});F.bind("click",function(i){I(i,this)})}function q(R){var i=(P===true)?a(window).innerWidth():N.stageWidth;var T=(P===true)?a(window).innerHeight()-40:N.stageHeight;var S={src:R,alt:"Slide "+K+1,width:i,height:T};if(f===null){f=a("<img>").attr(S);o.html(f)}else{f.attr(S)}k.html(K+1+"/"+e.length)}function Q(){clearTimeout(H);if(N.loop===true){if(K>e.length-1){K=0;n.stop(true,true);n.css("left","0")}}if(K<e.length){B(e[K])}K++}function B(i){q(i);j=parseFloat(n.css("left"));var R=M*(K+1)-j;n.stop(true,true);n.animate({left:"+="+R+"px"},N.delay*1000,"linear");H=setTimeout(Q,N.delay*1000)}function c(R,i){if(O===true&&m.attr("class")==="pause"){clearTimeout(H);n.stop(true,true)}}function s(R,i){if(O===true&&m.attr("class")==="pause"){Q()}}function G(R,i){R.preventDefault();i=a(i,L);if(i.attr("class")=="pause"){i.attr("class","play");clearTimeout(H);n.stop(true,false);n.css("left",j+"px");K--}else{Q();i.attr("class","pause")}}function C(R,i){R.preventDefault();i=a(i,L);clearTimeout(H);n.stop(true,false);K=(K-1<0)?0:K-1;n.css("left",M*K+"px");if(m.attr("class")==="pause"){Q()}else{q(e[K])}}function p(R,i){R.preventDefault();i=a(i,L);clearTimeout(H);n.stop(true,false);K=(K+1>e.length-1)?e.length-1:K+1;n.css("left",M*K+"px");if(m.attr("class")==="pause"){Q()}else{q(e[K])}}function g(R,i){R.preventDefault();i=a(i,L);clearTimeout(H);n.stop(true,false);K=0;n.css("left","0px");if(m.attr("class")==="pause"){Q()}else{q(e[K])}}function h(R,i){R.preventDefault();i=a(i,L);clearTimeout(H);n.stop(true,false);K=e.length-1;n.css("left",K*M+"px");if(m.attr("class")==="pause"){Q()}else{q(e[K])}}function E(R,i){R.preventDefault();if(!L.hasClass("full")){P=true;O=false;L.addClass("full");L.css("width",a(window).innerWidth()+"px");L.css("height",(a(window).innerHeight())+"px");o.css("width",a(window).innerWidth()+"px");o.css("height",(a(window).innerHeight()-40)+"px");f.attr("width",a(window).innerWidth());f.attr("height",a(window).innerHeight()-40);a(L).siblings().filter(":visible").addClass("invisibleimageplayer")}else{P=false;O=N.pauseOnHover;L.removeClass("full");L.css({width:N.stageWidth+"px",height:N.stageHeight+40+"px"});o.css({width:N.stageWidth+"px",height:N.stageHeight+"px"});f.attr("width",N.stageWidth);f.attr("height",N.stageHeight);a(L).siblings().removeClass("invisibleimageplayer");a("body").scrollTop(L.offset().top)}}function I(T,R){var V,i,S,U;T.preventDefault();R=a(R,L);clearTimeout(H);n.stop(true,false);V=R.offset();i=Math.ceil(T.pageX-V.left);K=Math.floor(i/M);S=Math.abs(M*K-i);U=Math.abs(M*(K+1)-i);if(K<e.length){if(S<=U){n.css("left",(i-S)+"px")}else{n.css("left",(i+U)+"px");if(K<e.length-1){K++}}if(m.attr("class")==="pause"){Q()}else{q(e[K])}}}};a.imagePlayer.settings={stageWidth:400,stageHeight:300,autoStart:false,pauseOnHover:true,delay:1,loop:true}})(jQuery);